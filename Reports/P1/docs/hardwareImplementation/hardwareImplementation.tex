%%% Chapter 5 - Hardware Implementation %%%

\chapter{Hardware implementation} \label{ch:hardware_implementation}
\input{docs/hardwareImplementation/intro.tex}

\section{Selection of commercial components}

\subsection{Passive components}

Passive components includes input and output capacitors and inductor. The needed values were calculated in section \ref{component_sizing}. However, no tolerance or safety margin are included in those calculations. By the nature of the project, the goal is not to optimize price or size, but to validate the technical feasibility of the PV power optimizer. For this reason, the commercial input and output capacitors chosen has been oversized with the goal of easing the control task. In further work, optimization of this values should be performed.

The necessary input capacitance is $1540 \mu F$. A safety margin of $20 \%$ has been applied resulting in a necessary input capacitance of $1850 \mu F$. In order to achieve this value, 4 capacitors have been associated in parallel. The goal of paralleling the components is to decrease the parasitic inductance and resistance and ease the heat dissipation task. Four electrolytic capacitors of $470\mu F$ \cite{cin} are placed in parallel to get a summed capacitance of $1.880\mu F$. The rating for these is 100V. The capacitors perform well in the working frequency and have low parasitic values, according to the data sheet \cite{cin}.

For the output capacitor a $820\mu F$ has been used \cite{cout}. 

Both for the input and output a $100nF$ and a $1\mu F$ capacitors are placed in parallel. These capacitors are SMD technology which have intrinsically low parasitic components. The goal is to support the higher capacitance capacitors during high frequency current peaks.

The calculated inductance is $1.3 mH$. \todo{Measure inductance behaviour at different currents. As the current component is getting too hot consider creating a new one. Complete inductor selection with final component.}


\subsection{Swithing circuitry}
\input{docs/converterDesign/Component_sizing/mosfet.tex}
\input{docs/converterDesign/Component_sizing/driver.tex}

\input{docs/converterDesign/sensors/sensors.tex}

\input{docs/converterDesign/component_sizing/power_supplies.tex}


\input{docs/hardwareImplementation/PCB_layout/Schematic.tex}

\input{docs/hardwareImplementation/PCB_layout/PCB_layout.tex}