This chapter contains the control of the non inverting buck-boost converter , so that the PV panel works at the maximum power point during operation. To achieve this, a MPPT algorithm is implemented.
% The output signal from the MPPT controller can be the duty cycle or a reference voltage, depending which kind of controller is implemented. If the output signal is the duty cycle, a control system is not necessary because the duty cycle signal can be connected directly to the PWM block. To get the duty cycle from the reference voltage firstly this value will be subtracted with the voltage from the PV panel \todo{I think this part explaining the different ways of implementing the P\&O shouldn't be here because it is alreadu written in 5.1. Here, should be why we decide to implement this MPPT that I also mentioned in the first paragraph of 5.1 but I think we have to make a merge and remove things from my part and viceversa. STef}. After this voltage and current control\todo{which voltage and current control? you don't mention it before. Stef} will change the calculated voltage to the necessary duty cycle. The PWM indicates how long the MOSFET is switched on for a period of time, allowing the output voltage of the converter to be regulated.
The selection of the MPPT algorithm is based on the knowledge from section  \ref{MPPTalgo} .
Constant voltage is not applied in the project work. One of the requirements is that the algorithm can track the MPP despite changes in the environmental operation and this is not possible with an implementation of constant voltage. Since for the algorithm Incremental conductance the program needs more complex commands, the perturb and observe algorithm was chosen because of the simpler implementation. %For future purposes, the incremental conductance can be implemented to compare the efficiency and reliability of the two methods.
%At the beginning of the chapter different methods for MPPT are introduced. The subchapter "Selection of MPPT algorithm" describes the pros and cons of the methods and compares them. The result of this discussion should give us the best method for the converter. 
At the beginning of the chapter the implemented algorithm is described with a flow chart. To validate the algorithm, a simulation of a non-inverting buck-boost converter with the MPPT algorithm is implemented using the software \textit{PLECS}. 
